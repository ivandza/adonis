---
layout: base.njk
title: Prijavnice
permalink: /prijavnice/
---

<section id="main" class="container">
  <!-- Intro -->
  <section class="box special">
    <header class="major">
      <h2>Prijavnice (PDF)</h2>
      <p>Preuzmite, ispunite i pošaljite e-poštom.</p>
    </header>
    <p>
      1) Odaberite prijavnicu i kliknite <strong>Preuzmi PDF</strong>.<br>
      2) Ispunjenu prijavnicu pošaljite na:
      <a href="mailto:udruga.adonis@gmail.com?subject=Prijavnica">udruga.adonis@gmail.com</a>.
    </p>
  </section>

  <!-- Dropdown + Submit -->
  <section class="box">
    <header class="major"><h3>Preuzimanje putem izbornika</h3></header>

    <form id="prijavnice-form" class="alt" onsubmit="return servePdf(event)">
      <div class="row gtr-50 gtr-uniform">
        <div class="col-8 col-12-mobilep">
          <select id="pdf-select" required>
            <option value="">— Odaberite prijavnicu —</option>
            <!-- JS injects options here -->
          </select>
        </div>
        <div class="col-4 col-12-mobilep">
          <input type="submit" class="fit primary" value="Preuzmi PDF">
        </div>
      </div>
    </form>
  </section>

  <!-- Text links fallback -->
  <section class="box">
    <header class="major"><h3>Izravne poveznice</h3></header>
    <ul id="pdf-links" class="alt">
      <!-- JS injects links here -->
    </ul>
  </section>
</section>

<script>
(function() {
  var BASE = "{{ '/assets/prijavnice/' | url }}";

  var FILES = [
    { file: "PRIJAVNICA-za-clanstvo-i-terapije.pdf", label: "Prijavnica / Članstvo i terapije" },
    { file: "PRIJAVNICA-i-mi-mozemo-biti-vatrogasci.pdf", label: "Prijavnica / I ja želim biti vatrogasac" },
    { file: "PRIJAVNICA-ljetni-dani-mladih-downica.pdf", label: "Prijavnica / Ljetni dani mladih Downića" },
    { file: "PRIJAVNICA-osjetimo-smijehom.pdf", label: "Prijavnica / Osjetimo smijehom" },
    { file: "PRIJAVNICA-za-edukaciju-odgojno-obrazovnih-djelatnika.pdf", label: "Prijavnica / Edukacija odgojno-obrazovnih djelatnika" },
    { file: "PRIJAVNICA-za-korisnika-pomozimo-zajedno.pdf", label: "Prijavnica / Za korisnika — Pomozimo zajedno" },
    { file: "PRIJAVNICA-za-korisnika-pruzimo-sansu.pdf", label: "Prijavnica / Za korisnika — Pružimo šansu" },
    { file: "PRIJAVNICA-za-poslodavce-pruzimo-sansu.pdf", label: "Prijavnica / Za poslodavce — Pružimo šansu" },
    { file: "PRIJAVNICA-za-donatore.pdf", label: "Prijavnica / Donatori" },
    { file: "PRIJAVNICA-za-volontiranje.pdf", label: "Prijavnica / Volontiranje" }
  ];

  function buildUrl(filename) {
    return encodeURI(BASE + filename);
  }

  // Populate dropdown
  var select = document.getElementById("pdf-select");
  FILES.forEach(function(item){
    var opt = document.createElement("option");
    opt.value = item.file;
    opt.textContent = item.label;
    select.appendChild(opt);
  });

  // Populate links list
  var list = document.getElementById("pdf-links");
  FILES.forEach(function(item){
    var li = document.createElement("li");
    var a = document.createElement("a");
    a.href = buildUrl(item.file);
    a.textContent = item.label;
    a.setAttribute("download", "");
    li.appendChild(a);
    list.appendChild(li);
  });

  // Handle form submit
window.servePdf = function(e) {
  e.preventDefault();

  const select = document.getElementById('pdf-select');
  const file = select.value;
  if (!file) return false;

  const url = buildUrl(file);

  const link = document.createElement('a');
  link.href = url;
  link.download = file;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);

  return false;
};
})();
</script>
